{
  "name": "datascience",
  "description": "A role to manage the configuration of a data science server in EC2",
  "json_class": "Chef::Role",
  "default_attributes": {
    "build-essential": {
      "compile_time": "true"
    },
    "blockdevice_nativex": {
      "dir": "/mnt/ebs",
      "mount_point_group": "predictive_analytics",
      "recurse_permissions": false,
      "filesystem": "xfs",
      "ebs": {
        "raid": false,
        "size": 500
      }
    },
    "ephemeral_lvm": {
      "mount_point": "/mnt/ephemeral"
    },
    "java": {
      "install_flavor": "oracle",
      "jdk_version": "7",
      "oracle": {
        "accept_oracle_download_terms": "true"
      }
    },
    "mkdirs": [{
      "path": "/automnt"
    }],
    "nodejs": {
      "npm_packages": [
        {"name": "async"},
        {"name": "aws-sdk"},
        {"name": "moment"}
      ]
    },
    "python": {
      "install_method": "source",
      "version": "3.3.5"
    },
    "python_nativex": {
      "packages": ["pyyaml", "kombu", "lockfile", "asyncio", "paramiko", "boto", "awscli"]
      },
    "r": {
      "version": "3.1.2-1.el6"
    },
    "r_nativex": {
      "packages": ["optparse", "yaml", "data.table", "ffbase", "ROCR", "ETLUtils", "rjson", "RODBC", "ff", "gbm", "LaF"]
    },
    "rabbitmq": {
      "version": "3.3.5",
      "mnesiadir": "/mnt/ebs/rabbitmq_db",
      "logdir": "/mnt/ebs/log/rabbitmq",
      "enabled_users":[{
        "name": "datascience",
        "password": "datascience",
        "tag": "administrator",
        "rights": [{
          "conf": ".*",
          "write": ".*",
          "read": ".*"
        }]
      }]
    },
    "tuned": {
      "active_profile": "virtual-guest"
    }
  },
  "override_attributes": {
  },
  "chef_type": "role",
  "run_list": [
    "role[base]",
    "recipe[cifs-nativex]",
    "recipe[git]",
    "recipe[blockdevice-nativex]",
    "recipe[blockdevice-nativex::tags]",
    "recipe[iptables-nativex::ssh]",
    "recipe[mkdirs]",
    "recipe[nodejs]",
    "recipe[python]",
    "recipe[python-nativex]",
    "recipe[r]",
    "recipe[r-nativex]",
    "recipe[rabbitmq]",
    "recipe[rabbitmq::mgmt_console]",
    "recipe[rabbitmq::user_management]",
    "recipe[tuned-nativex::apply_profile]"
  ],
  "env_run_lists": {
  }
}
