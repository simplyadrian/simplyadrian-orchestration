{
  "name": "nas",
  "description": "A role to manage the configuration of a NAS in EC2",
  "json_class": "Chef::Role",
  "default_attributes": {
    "build-essential": {
      "compile_time": "true"
    },
    "blockdevice_nativex": {
      "dir": "/mnt/ebs",
      "filesystem": "xfs",
      "mount_point_group": "predictive_analytics",
      "ebs": {
        "raid": true
      }
    },
    "ephemeral_lvm": {
      "mount_point": "/mnt/ephemeral",
      "filesystem": "xfs",
      "volume_group_name": "vg_data_ephem",
      "logical_volume_name": "lv_nas_raid0"
    },
    "glusterfs": {
      "server": {
        "peers": ["DAW1AL-NAS-01-prv.nativexintern.com", "DAW1AL-NAS-02-prv.nativexintern.com", "DAW1AL-NAS-03-prv.nativexintern.com"],
        "volumes": "testvol",
        "export_directory": "/mnt/ebs",
        "stripe": 3
      }
    },
    "tuned": {
      "active_profile": "virtual-guest"
    },
    "nfs": {
      "packages": [ "portmap", "nfs-utils", "nfs4-acl-tools" ],
      "port": {
        "statd": "32765",
        "statd_out": "32766",
        "mountd": "32767",
        "lockd": "32768"
      }
    },
    "nfs-nativex": {
      "export_dir": "/mnt/ebs",
      "network": "172.16.0.0/12",
      "writeable": true,
      "sync": true
    }
  },
  "override_attributes": {
  },
  "chef_type": "role",
  "run_list": [
    "role[base]",
    "recipe[tuned-nativex::apply_profile]",
    "recipe[nfs::server4]",
    "recipe[blockdevice-nativex]",
    "recipe[blockdevice-nativex::tags]",
    "recipe[nfs-nativex]",
    "recipe[iptables-nativex::ssh]"
  ],
  "env_run_lists": {
  }
}
